<div align="center">

<h1>Murasaki Benchmark</h1>

<p>
  <strong>å¤§è¯­è¨€æ¨¡å‹æ—¥è¯­â†’ä¸­æ–‡ ACGN ç¿»è¯‘è´¨é‡è¯„æµ‹åŸºå‡†</strong>
</p>

<p>
  <a href="https://github.com/soundstarrain/murasaki-benchmark/blob/main/LICENSE">
    <img src="https://img.shields.io/badge/License-GPL%203.0-blue.svg" alt="License">
  </a>
  <img src="https://img.shields.io/badge/Python-3.10+-green" alt="Python">
  <img src="https://img.shields.io/badge/Models-34-orange" alt="Models">
  <img src="https://img.shields.io/badge/Domain-ACGN-pink" alt="Domain">
</p>

<p>
  <a href="#-æ’è¡Œæ¦œ">ğŸ“Š æ’è¡Œæ¦œ</a> â€¢
  <a href="#-æ–¹æ³•è®º">ğŸ› ï¸ æ–¹æ³•è®º</a> â€¢
  <a href="#-å¿«é€Ÿå¼€å§‹">ğŸš€ å¿«é€Ÿå¼€å§‹</a> â€¢
  <a href="#-å¼•ç”¨">ğŸ“ å¼•ç”¨</a>
</p>

<br>

<img src="results/murasaki_benchmark_chart.png" alt="è¯„æµ‹ç»“æœ" width="800">

</div>

<br>

> **Murasaki Benchmark** æä¾›ä¸¤ä¸ªæ®µè½çº§æ•°æ®é›†ï¼ˆShort/Longï¼‰ï¼Œç”¨äºè¯„æµ‹ LLM ç¿»è¯‘ä¸ä¸“ä¸šäººå·¥è¯‘æ–‡åœ¨ **ACGN é¢†åŸŸ**çš„å¯¹é½ç¨‹åº¦ã€‚é€šè¿‡ XCOMET æŒ‡æ ‡ï¼Œæˆ‘ä»¬åœ¨æ®µè½å±‚é¢è¡¡é‡æœºå™¨ç¿»è¯‘ä¸æƒå¨å‚è€ƒè¯‘æ–‡ä¹‹é—´çš„è¯­ä¹‰ç›¸ä¼¼åº¦ã€‚

---

## æ’è¡Œæ¦œ

æˆ‘ä»¬ä½¿ç”¨ XCOMET æŒ‡æ ‡è¯„æµ‹äº†**ä¸»æµå•†ä¸šæ¨¡å‹å’Œå¼€æºæ¨¡å‹**çš„æ—¥ä¸­ ACGN ç¿»è¯‘èƒ½åŠ›ã€‚

| æ’å | æ¨¡å‹ | çŸ­æ–‡æœ¬ | é•¿æ–‡æœ¬ | å¹³å‡ |
|:----:|:-----|:------:|:------:|:----:|
| ğŸ¥‡ | **Gemini 3 Flash Preview** | 0.826 | 0.877 | **0.851** |
| ğŸ¥ˆ | **Sakura-Qwen-2.5-14B** | 0.828 | 0.874 | **0.851** |
| ğŸ¥‰ | **GPT-5-chat-latest** | 0.825 | 0.877 | **0.850** |
| 4 | Gemini 2.5 Flash | 0.824 | 0.877 | 0.850 |
| 5 | Gemini 3 Pro Preview | 0.824 | 0.874 | 0.849 |
| 6 | GPT-4.1 | 0.826 | 0.872 | 0.849 |
| 7 | Claude Opus 4.5 | 0.824 | 0.873 | 0.848 |
| 8 | Murasaki-8B-v0.1 | 0.817 | 0.877 | 0.847 |
| 9 | Claude Haiku 4.5 | 0.824 | 0.869 | 0.846 |
| 10 | Claude Haiku 4.5 Thinking | 0.825 | 0.865 | 0.845 |
| 11 | Claude Sonnet 4.5 | 0.821 | 0.868 | 0.845 |
| 12 | DeepSeek V3.2 | 0.820 | 0.874 | 0.844 |
| 13 | TranslateGemma 12B | 0.820 | 0.869 | 0.844 |
| 14 | DeepSeek V3.2 Thinking | 0.818 | 0.870 | 0.844 |
| 15 | Qwen3-8B | 0.808 | 0.870 | 0.842 |
| 16 | Qwen3-14B | 0.813 | 0.870 | 0.841 |
| 17 | DeepSeek V3.1 | 0.814 | 0.871 | 0.840 |
| 18 | Qwen3-235B-A22B | 0.825 | 0.867 | 0.840 |
| 19 | Qwen3-32B | 0.821 | 0.870 | 0.840 |
| 20 | Gemini 2.0 Flash | 0.818 | 0.869 | 0.838 |
| 21 | GPT-5-mini | 0.814 | 0.865 | 0.838 |
| 22 | Dolphin3.0-R1-Mistral-24B | 0.811 | 0.868 | 0.838 |
| 23 | o3-mini | 0.811 | 0.865 | 0.838 |
| 24 | GLM-4.7 | 0.810 | 0.866 | 0.838 |
| 25 | Mistral Large | 0.808 | 0.867 | 0.836 |
| 26 | DeepSeek V3.1 Think | 0.812 | 0.863 | 0.836 |
| 27 | o3 | 0.811 | 0.864 | 0.835 |
| 28 | Llama-3.1-405B | 0.808 | 0.866 | 0.835 |
| 29 | Llama-3.1-70B | 0.809 | 0.856 | 0.832 |
| 30 | Grok-4.1 | 0.809 | 0.854 | 0.825 |
| 31 | Grok-4.1-fast | 0.800 | 0.865 | 0.825 |
| 32 | Kimi-K2 | 0.783 | 0.841 | 0.812 |
| 33 | TranslateGemma 4B | 0.792 | 0.809 | 0.800 |
| 34 | Llama-3-8B | 0.720 | 0.763 | 0.740 |

å®Œæ•´ç»“æœ: [results/final_comet_scores.jsonl](results/final_comet_scores.jsonl)

---

## æ ¸å¿ƒç‰¹ç‚¹

* **æ®µè½çº§è¯„æµ‹** â€” ä¸¤ä¸ªæ•°æ®é›†ï¼ˆShort: 180-200å­—ç¬¦ï¼ŒLong: 780-800å­—ç¬¦ï¼‰ç”¨äºå…¨é¢è¯„ä¼°æ®µè½ç¿»è¯‘èƒ½åŠ›ã€‚
* **æƒå¨å‚è€ƒè¯‘æ–‡** â€” æ¥è‡ªè€ç‰Œæ±‰åŒ–ç»„å’Œå®˜æ–¹å°ç‰ˆçš„ä¸“ä¸šäººå·¥ç¿»è¯‘ã€‚
* **XCOMET è¯„åˆ†** â€” ä½¿ç”¨ç¥ç»ç½‘ç»œè¯„ä¼°æ–¹æ³•è¡¡é‡ LLM è¾“å‡ºä¸å‚è€ƒè¯‘æ–‡çš„è¯­ä¹‰å¯¹é½ç¨‹åº¦ã€‚
* **å…¬å¹³å¯¹æ¯”** â€” ç»Ÿä¸€ `temperature=1.0` å’Œæ ‡å‡†åŒ– promptï¼Œç¡®ä¿ç»“æœå¯å¤ç°ã€å¯æ¯”è¾ƒã€‚

---

## ğŸ› ï¸ æ–¹æ³•è®º

### æ•°æ®æ„å»ºæµç¨‹

```mermaid
graph LR
    A[å®˜æ–¹ EPUB æ—¥æ–‡] --> C{å¯¹é½}
    B[æ±‰åŒ–ç»„/å®˜æ–¹è¯‘æ–‡ ä¸­æ–‡] --> C
    C -- Full Matrix DP + BGE-M3 --> D[é«˜ç½®ä¿¡åº¦è¿‡æ»¤]
    D --> E[åˆ†å±‚æŠ½æ ·]
    E --> F((Murasaki æ•°æ®é›†))
    
    style F fill:#f9f,stroke:#333,stroke-width:2px
```

### æ•°æ®åå¤„ç†
ä¸ºäº†ç¡®ä¿è¯„åˆ†çš„å…¬å¹³æ€§ï¼Œæˆ‘ä»¬åœ¨è¯„æµ‹å‰å¯¹æ‰€æœ‰æ¨¡å‹çš„è¾“å‡ºè¿›è¡Œäº†ä¸¥æ ¼çš„**å¼‚å¸¸æ£€æµ‹**ã€‚
- **ç©ºè¾“å‡ºæ£€æŸ¥**ï¼šå®Œå…¨ä¸ºç©ºçš„è¾“å‡ºå°†è¢«ç§»é™¤ã€‚
- **é•¿åº¦æ¯”ä¾‹æ£€æŸ¥**ï¼šè¾“å‡ºé•¿åº¦æ¯”ä¾‹ï¼ˆè¾“å‡º/åŸæ–‡ï¼‰`< 0.1`ï¼ˆè¿‡çŸ­ï¼‰æˆ– `> 4.0`ï¼ˆå¹»è§‰/å¾ªç¯ï¼‰çš„å°†è¢«æ’é™¤ã€‚
- **å®‰å…¨æ‹’ç»**ï¼šæ˜ç¡®çš„æ‹’ç»ï¼ˆå¦‚â€œæˆ‘æ— æ³•ååŠ©â€¦â€¦â€ï¼‰è¢«è§†ä¸ºæ— æ•ˆå¹¶è¿‡æ»¤ã€‚
*ï¼ˆè¿™ç¡®ä¿äº† 0 åˆ†çš„å¼‚å¸¸å€¼ä¸ä¼šæ‰­æ›²æœ‰æ•ˆç¿»è¯‘åˆ†æ•°çš„åˆ†å¸ƒã€‚ï¼‰*


> **âš ï¸ æ˜¾è‘—é—®é¢˜è¯´æ˜ / Known Issues**
> éƒ¨åˆ†æ¨¡å‹åœ¨ç”Ÿæˆç»“æ„æˆ–å†…å®¹ä¸Šå­˜åœ¨ä¸¥é‡é—®é¢˜ï¼Œå¯¼è‡´å¤§é‡æ ·æœ¬è¢«æ•°æ®æ¸…æ´—æµç¨‹è¿‡æ»¤ã€‚å…¶æœ€ç»ˆåˆ†æ•°ä»…åŸºäºå°‘é‡æœ‰æ•ˆæ ·æœ¬è®¡ç®—ï¼Œ**å¯èƒ½æ— æ³•ä»£è¡¨å…¶çœŸå®æ°´å¹³**ï¼š
> * **Qwen3-8B**: æœ‰æ•ˆç‡æä½ï¼ˆçº¦ 24.5%ï¼‰ï¼Œå¤§é‡è¾“å‡ºåŒ…å«è¿‡åº¦é‡å¤æˆ–ä¹±ç ã€‚
> * **Grok-4.1 / Grok-4.1-fast**: æœ‰æ•ˆç‡ä»… 50-60%ï¼Œé•¿æ–‡æœ¬ç”Ÿæˆèƒ½åŠ›æä¸ç¨³å®šã€‚
> * **DeepSeek-V3.1 / Qwen3-32B**: é•¿æ–‡æœ¬æœ‰æ•ˆç‡è¾ƒä½ï¼Œå­˜åœ¨æˆªæ–­æˆ–æ ¼å¼é”™è¯¯ã€‚

### æ•°æ®è´¨é‡æŠ¥å‘Š (æœ‰æ•ˆæ•°/æ€»æ•°)

| æ¨¡å‹ | Short | Long | æœ‰æ•ˆä¿ç•™ç‡ |
|:---|:---|:---|:---|
| claude-haiku-4-5-20251001 | 100/100 | 100/100 | 100.0% |
| claude-opus-4-5-20251101 | 100/100 | 100/100 | 100.0% |
| murasaki-8b-v0.1 | 100/100 | 99/99 | 100.0% |
| claude-haiku-4-5-20251001-thinking | 100/100 | 100/100 | 100.0% |
| Sakura-qwen-2.5-14B | 100/100 | 100/100 | 100.0% |
| gemini-3-pro-preview | 100/100 | 100/100 | 100.0% |
| gemini-3-flash-preview | 100/100 | 99/100 | 99.5% |
| glm-4.7 | 100/100 | 99/100 | 99.5% |
| kimi-k2 | 99/100 | 100/100 | 99.5% |
| deepseek-v3.2-thinking | 100/100 | 99/100 | 99.5% |
| translategemma-12b | 99/100 | 100/100 | 99.5% |
| gpt-4.1 | 100/100 | 98/100 | 99.0% |
| gemini-2.5-flash | 100/100 | 98/100 | 99.0% |
| gpt-5-chat-latest | 100/100 | 97/100 | 98.5% |
| o3 | 99/99 | 85/88 | 98.4% |
| o3-mini | 99/100 | 97/100 | 98.0% |
| claude-sonnet-4-5-20250929 | 96/100 | 99/100 | 97.5% |
| llama-3.1-70b | 100/100 | 94/100 | 97.0% |
| qwen3-14b | 98/100 | 90/100 | 94.0% |
| gpt-5-mini | 97/100 | 88/100 | 92.5% |
| translategemma-4b | 92/100 | 92/100 | 92.0% |
| Dolphin3.0-R1-Mistral-24B | 95/100 | 88/100 | 91.5% |
| deepseek-v3-1-think-250821 | 96/100 | 84/100 | 90.0% |
| mistral-large-latest | 95/100 | 84/100 | 89.5% |
| llama-3.1-405b | 90/100 | 80/100 | 85.0% |
| deepseek-v3.2 | 92/100 | 76/100 | 84.0% |
| gemini-2.0-flash | 97/100 | 67/100 | 82.0% |
| llama-3-8b | 85/100 | 78/100 | 81.5% |
| qwen3-32b | 91/100 | 56/100 | 73.5% |
| qwen3-235b-a22b | 92/100 | 52/100 | 72.0% |
| grok-4.1-fast | 72/100 | 46/100 | 59.0% |
| deepseek-v3.1 | 63/100 | 53/100 | 58.0% |
| grok-4.1 | 71/100 | 41/100 | 56.0% |
| qwen3-8b | 22/100 | 27/100 | 24.5% |

### æ•°æ®é›†æ„æˆ

| ç±»åˆ« | æ ·æœ¬æ•° | é•¿åº¦ (å­—ç¬¦) | å†…å®¹ç±»å‹ |
|------|:------:|:-----------:|----------|
| **Short** | 100 | 180-200 | å¯¹è¯ã€åæ§½ã€çŸ­æå†™ |
| **Long** | 100 | 780-800 | å¤æ‚ä¸–ç•Œè§‚ã€æƒ…æ„Ÿç‹¬ç™½ |

è¦†ç›–å•†ä¸šè½»å°è¯´åŠã€Œæˆä¸ºå°è¯´å®¶å§ã€ç½‘æ–‡çš„ä¸»æµé¢˜æï¼š

<details>
<summary><strong>ç‚¹å‡»æŸ¥çœ‹é¢˜æè¦†ç›–</strong></summary>

| é¢˜æ | ä»£è¡¨ä½œå“ |
|------|----------|
| **å¼‚ä¸–ç•Œ** | æ— èŒè½¬ç”Ÿã€è½¬ç”Ÿå²è±å§†ã€ç›¾ä¹‹å‹‡è€… |
| **æ‹çˆ±å–œå‰§** | æ˜¥ç‰©ã€ä¿ºå¦¹ã€è¾‰å¤œå¤§å°å§ |
| **å¥‡å¹»** | åˆ€å‰‘ç¥åŸŸã€ä¸ºç¾å¥½ä¸–ç•ŒçŒ®ä¸Šç¥ç¦ã€ç‹¼ä¸é¦™è¾›æ–™ |
| **ç§‘å¹»** | 86ä¸å­˜åœ¨çš„æˆ˜åŒºã€å…¨é‡‘å±ç‹‚æ½® |
| **æ—¥å¸¸** | é‚»å®¶å¤©ä½¿ã€ä¹‰å¦¹ç”Ÿæ´» |
| **æ‚¬ç–‘** | å¤å…¸éƒ¨ç³»åˆ—ã€åŒ–ç‰©è¯­ |
| **æˆ˜è®°** | å¹¼å¥³æˆ˜è®°ã€é“¶æ²³è‹±é›„ä¼ è¯´ |

</details>

### è¯„æµ‹åè®®

| å‚æ•° | å€¼ |
|------|----|
| Temperature | 1.0 |
| System Prompt | æ ‡å‡†åŒ– ([pipeline/config.py](pipeline/config.py)) |
| ç‰¹æ®Šæƒ…å†µ | Sakura æ¨¡å‹ä½¿ç”¨å®˜æ–¹æ¨èè®¾ç½® |
| æŒ‡æ ‡ | COMET (Unbabel/XCOMET-XL) |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
git clone https://github.com/soundstarrain/murasaki-benchmark
cd murasaki-benchmark
pip install -r requirements.txt
```

### è¿è¡Œè¯„æµ‹

**æ–¹å¼ä¸€ï¼šæœ¬åœ°æ¨¡å‹ï¼ˆå¦‚é€šè¿‡ Ollama éƒ¨ç½² Qwenï¼‰**
```bash
ollama pull qwen2.5:14b
python examples/local_llm_demo.py
```

**æ–¹å¼äºŒï¼šAPI è°ƒç”¨**
```bash
cp .env.example .env
# ç¼–è¾‘ .env å¡«å†™ API å¯†é’¥
python examples/api_eval_demo.py
```

> è¯¦ç»†é…ç½®è¯·å‚è€ƒ [docs/local_deployment.md](docs/local_deployment.md)

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```text
murasaki-benchmark/
â”œâ”€â”€ ğŸ“‚ data/           # è¯„æµ‹æ•°æ®é›† (Short/Long)
â”œâ”€â”€ ğŸ“‚ pipeline/       # æ ¸å¿ƒè¯„æµ‹é€»è¾‘ (Prompt, è¯„åˆ†)
â”œâ”€â”€ ğŸ“‚ examples/       # æœ€å°å¯è¿è¡Œç¤ºä¾‹
â”œâ”€â”€ ğŸ“‚ results/        # å®Œæ•´è¯„æµ‹æ—¥å¿—å’Œå›¾è¡¨
â””â”€â”€ ğŸ“‚ docs/           # è¯¦ç»†æ–‡æ¡£
```

---

## ğŸ“ å¼•ç”¨

å¦‚æœæœ¬åŸºå‡†å¯¹æ‚¨çš„ç ”ç©¶æœ‰å¸®åŠ©ï¼Œè¯·å¼•ç”¨ï¼š

```bibtex
@misc{murasaki2026,
  title={Murasaki Benchmark: An ACGN Translation Benchmark for LLMs},
  author={Murasaki Team},
  year={2026},
  url={https://github.com/soundstarrain/murasaki-benchmark}
}
```

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [GPL-3.0](LICENSE) å¼€æºåè®®ã€‚

> æ•°æ®é›†ä»…ä¾›**å­¦æœ¯ç ”ç©¶**ä½¿ç”¨ã€‚åŸä½œå°è¯´å’Œè¯‘æ–‡çš„ç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚
